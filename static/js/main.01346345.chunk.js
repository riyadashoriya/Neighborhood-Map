(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,a){e.exports=a(377)},157:function(e,t,a){},158:function(e,t,a){},377:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),i=a.n(l),c=(a(157),a(32)),s=a(33),o=a(35),u=a(34),d=a(36),p=(a(158),a(90)),h=a(38),m=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.place;return r.a.createElement("div",null,r.a.createElement("h4",null,e.name),r.a.createElement("p",null,e.location.address,r.a.createElement("br",null),e.location.city,", ",e.location.state," - ",e.location.postalCode,r.a.createElement("br",null),e.location.country,r.a.createElement("br",null)))}}]),t}(n.Component),k=Object(p.a)(Object(p.b)({googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyDhurMXRNeJHZNHxJKoix8zuqnFekEHhCo&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{id:"containerElement"}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),h.withScriptjs,h.withGoogleMap)(function(e){return r.a.createElement(h.GoogleMap,{defaultZoom:15,center:e.center},e.isMarkerVisible&&Object.keys(e.markers).map(function(t,a){return r.a.createElement(h.Marker,{key:t,position:e.markers[t],onClick:e.onMarkerClick.bind(this,t)},e.selectedPlace&&e.selectedPlace[0].id===t&&r.a.createElement(h.InfoWindow,{position:e.selectedPlace.location},r.a.createElement(m,{place:e.selectedPlace[0]})))}))}),f=a(150),v=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.updateSearch,a=e.queriedPlaces,n=e.placeClick;return r.a.createElement(f.slide,null,r.a.createElement("input",{type:"text",id:"search-input",placeholder:"type a salon name",onChange:function(e){return t(e.target.value)}}),r.a.createElement("ul",{id:"places-list"},a.map(function(e){return r.a.createElement("li",{title:e.name,key:e.id,onClick:n.bind(this,e.id)},r.a.createElement(m,{place:e}))})))}}]),t}(n.Component),b=a(151),E=a.n(b),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isMarkerVisible:!1,places:null,markers:null,queriedPlaces:[],center:{lat:40.760981254004264,lng:-111.89117340652818},selectedPlace:null,modalIsOpen:!1},a.handleMarkerClick=function(e){var t=a.state.places.filter(function(t){return t.id===e});a.setState({selectedPlace:t,center:{lat:t[0].location.lat,lng:t[0].location.lng}})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;e.loadPlaces().then(function(t){var a={},n=!0,r=!1,l=void 0;try{for(var i,c=t.response.venues[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var s=i.value;a[s.id]={id:s.id,lat:parseFloat(s.location.lat),lng:parseFloat(s.location.lng)}}}catch(o){r=!0,l=o}finally{try{n||null==c.return||c.return()}finally{if(r)throw l}}e.setState({places:t.response.venues,markers:a,queriedPlaces:t.response.venues,isMarkerVisible:!0})}).catch(function(){e.setState({modalIsOpen:!0})})}},{key:"loadPlaces",value:function(){return fetch("https://api.foursquare.com/v2/venues/search?client_id=L5OSMSDBGVZJOVZV2B4WBCYTKRGTMJNIC1YWWO2COACAHMOM&client_secret=LKGLW5WQEMB1Y40QBYKGL1CYMA0DI1XMUZLRQ1ESOOVH44ER&v=20130815%20&limit=20&near=Salt lake city&query=salon").then(function(e){return e.json()}).then(function(e){return Promise.resolve(e)})}},{key:"updateSearch",value:function(e){if(e=e.trim(),this.state.queriedPlaces=this.state.places,e){var t=this.state.queriedPlaces.filter(function(t){return t.name.toUpperCase().startsWith(e.toUpperCase())});this.setState({queriedPlaces:t})}else this.setState({queriedPlaces:this.state.places})}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1}),window.location.reload()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"header"},r.a.createElement("span",{className:"title"},"Neighborhood Map"),r.a.createElement(v,{placeClick:this.handleMarkerClick,updateSearch:function(t){return e.updateSearch(t)},queriedPlaces:this.state.queriedPlaces})),r.a.createElement(k,{markers:this.state.markers,center:this.state.center,isMarkerVisible:this.state.isMarkerVisible,onMarkerClick:this.handleMarkerClick,selectedPlace:this.state.selectedPlace}),r.a.createElement(E.a,{isOpen:this.state.modalIsOpen,ariaHideApp:!1},r.a.createElement("div",null,"Looks like there is some problem with loading the data. Please refresh the page."),r.a.createElement("button",{onClick:function(){return e.closeModal()}},"Click here to refresh")))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[152,1,2]]]);
//# sourceMappingURL=main.01346345.chunk.js.map